(this.webpackJsonpweatherapp=this.webpackJsonpweatherapp||[]).push([[0],{40:function(e,t,a){},56:function(e,t,a){},58:function(e,t,a){},64:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(8),s=a.n(r),i=(a(56),a(10)),o=a.n(i),l=a(16),u=a(9),d=a(103),j=(a(58),a(1)),b=function(e){var t=Object(c.useRef)(),a=Object(j.jsxs)("aside",{className:"SideDrawer",children:[Object(j.jsx)("button",{className:"sideDrawer__close",onClick:e.closeHandler,children:"X"}),Object(j.jsxs)("form",{onSubmit:function(a){a.preventDefault(),function(){var a=Object(l.a)(o.a.mark((function a(){return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:e.setInput(t.current.value),e.onInput(e.state.length,t.current.value),t.current.value="";case 3:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}()()},children:[Object(j.jsx)("input",{ref:t,className:"Search-Location",type:"search",placeholder:"Search Location"}),Object(j.jsx)(d.a,{className:"sideDrawer__search",type:"submit",children:"Search"})]}),Object(j.jsx)("ul",{className:"sideDrawer__cities",children:e.state.map((function(e,t){return Object(j.jsx)("li",{children:e.name},t)}))})]}),n=document.getElementById("drawer");return s.a.createPortal(a,n)},h=a(106),p=a(36),O=a.n(p),x=a(17),m=function(e,t){switch(t.type){case"push":return[].concat(Object(x.a)(e),[{id:t.id,name:t.name}]);default:return e}},f=(a(64),function(e){var t=function(e,t){var a=Object(c.useReducer)(m,[]),n=Object(u.a)(a,2),r=n[0],s=n[1];return[r,Object(c.useCallback)((function(e,t){s({type:"push",id:e,name:t})}),[])]}(),a=Object(u.a)(t,2),n=a[0],r=a[1],s=Object(c.useState)(!1),i=Object(u.a)(s,2),o=i[0],l=i[1],p=function(){l(!0)},x=function(){l(!1)};return e.weather?Object(j.jsxs)("div",{className:"aside",children:[o&&Object(j.jsx)(b,{closeHandler:x,state:n,setInput:e.setInput,onInput:r}),Object(j.jsxs)("div",{className:"aside__buttons",children:[Object(j.jsx)(d.a,{className:"aside__buttons_SearchCity",onClick:p,children:"Search Places"}),Object(j.jsx)(h.a,{"aria-label":"SearchLocation",className:"aside__buttons_location",children:Object(j.jsx)(O.a,{onClick:e.getLocation})})]}),Object(j.jsxs)("div",{className:"aside__details",children:[Object(j.jsx)("img",{className:"aside__image",alt:e.weather.weather_state_name,src:"https://www.metaweather.com/static/img/weather/png/".concat(e.weather.weather_state_abbr,".png")}),Object(j.jsxs)("h1",{className:"aside__tempToday",children:[Object(j.jsx)("span",{children:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=e.toString(),c=a.indexOf(".")+1,n=a.substr(0,c+t);return Number(n)}(e.weather.the_temp)}),"\xb0c"]}),Object(j.jsx)("h3",{className:"aside__weatherStateToday",children:e.weather.weather_state_name}),Object(j.jsxs)("h6",{className:"aside__weatherDate",children:["Today - ",e.weather.applicable_date]})]}),Object(j.jsx)("div",{className:"aside__footer",children:Object(j.jsx)("h6",{children:e.city})})]}):Object(j.jsxs)("div",{className:"aside",children:[o&&Object(j.jsx)(b,{closeHandler:x,state:n,setInput:e.setInput,onInput:r}),Object(j.jsxs)("div",{className:"aside__buttons",children:[Object(j.jsx)(d.a,{className:"aside__buttons_SearchCity",onClick:p,children:"Search Places"}),Object(j.jsx)(h.a,{"aria-label":"SearchLocation",className:"aside__buttons_location",children:Object(j.jsx)(O.a,{onClick:e.getLocation})})]}),Object(j.jsxs)("div",{className:"aside__details",children:[Object(j.jsx)("h1",{children:"Begin the search!"}),Object(j.jsx)("br",{}),Object(j.jsx)("p",{children:"Write any city within the input field or push the location button to set your current location weather"})]})]})}),_=a(113),v=a(107),g=a(108),w=a(45),N=a.n(w),y=(a(70),a(73),function(e){function t(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e.toString(),c=a.indexOf(".")+1,n=a.substr(0,c+t);return Number(n)}return e.weatherState?Object(j.jsx)("div",{className:"Box",children:Object(j.jsx)(_.a,{className:"content__card",children:Object(j.jsxs)(v.a,{children:[Object(j.jsx)(g.a,{className:"content__cardTitle",children:Object(j.jsx)(N.a,{format:"dddd",date:e.weatherState.applicable_date})}),Object(j.jsx)(g.a,{className:"content__cardBody",children:Object(j.jsx)("img",{className:"content__cardImg",alt:"weather state ",src:"https://www.metaweather.com/static/img/weather/png/64/".concat(e.weatherState.weather_state_abbr,".png")})}),Object(j.jsxs)(g.a,{className:"content__cardFooter",children:["".concat(t(e.weatherState.max_temp)," \xb0C")," - ","".concat(t(e.weatherState.min_temp)," \xb0C")]})]})})}):Object(j.jsx)("div",{className:"Box"})});a(74);var S=function(e){var t=e.weather;return t?Object(j.jsx)("div",{children:Object(j.jsx)("ul",{className:"boxlist__items",children:t.map((function(e){return Object(j.jsx)(y,{weatherState:e},e.applicable_date)}))})}):Object(j.jsx)("h1",{children:"no weather data"})},k=(a(40),function(e){var t=e.weatherDetails,a=e.left;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,a=e.toString(),c=a.indexOf(".")+1,n=a.substr(0,c+t);return Number(n)}return t?Object(j.jsx)("div",{className:"BigBox",children:Object(j.jsx)(_.a,{className:"bigbox__card",children:Object(j.jsxs)(v.a,{children:[Object(j.jsx)(g.a,{className:"bigbox__cardTitle",children:!0===a?"Wind Status":"Humidity"}),Object(j.jsx)(g.a,{className:"bigbox__cardBody",children:!0===a?Object(j.jsxs)("div",{children:[c(t.wind_speed),Object(j.jsx)("span",{children:"MPH"})]}):Object(j.jsxs)("div",{children:[c(t.humidity),Object(j.jsx)("span",{children:"%"})]})}),Object(j.jsx)(g.a,{className:"bigbox__cardFooter",children:!0===a?"".concat(t.wind_direction_compass):"none"})]})})}):Object(j.jsx)("h1",{children:"No data"})}),C=function(e){var t=e.weatherDetails,a=e.left;function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=e.toString(),c=a.indexOf(".")+1,n=a.substr(0,c+t);return Number(n)}return t?Object(j.jsx)("div",{className:"BigBox",children:Object(j.jsx)(_.a,{className:"bigbox__card",children:Object(j.jsxs)(v.a,{children:[Object(j.jsx)(g.a,{className:"bigbox__cardTitle",children:!0===a?"Visibility":"Air Preasure"}),Object(j.jsx)(g.a,{className:"bigbox__cardBody",children:!0===a?Object(j.jsxs)("div",{children:[c(t.visibility),Object(j.jsx)("span",{children:" MILES"})]}):Object(j.jsxs)("div",{children:[c(t.air_pressure),Object(j.jsx)("span",{children:" mb"})]})})]})})}):Object(j.jsx)("h1",{children:"No data"})};a(75);var D=function(e){var t=e.weatherDetails;return t?Object(j.jsxs)("div",{className:"bigboxlist",children:[Object(j.jsxs)("div",{className:"content__weatherDetails",children:[Object(j.jsx)(k,{weatherDetails:t,left:!0}),Object(j.jsx)(k,{weatherDetails:t})]}),Object(j.jsxs)("div",{className:"content__weatherDetails2",children:[Object(j.jsx)(C,{weatherDetails:t,left:!0}),Object(j.jsx)(C,{weatherDetails:t})]})]}):Object(j.jsx)("h1",{children:"No data"})},B=(a(76),function(e){var t=e.weather,a=e.weatherDetails;return t||a?Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)(S,{className:"content__boxlist",weather:t}),Object(j.jsx)("h1",{className:"content__highlight",children:"Today's Highlights"}),Object(j.jsx)(D,{weatherDetails:a})]}):Object(j.jsx)("div",{className:"content__default",children:Object(j.jsx)("br",{})})}),E=a(111),I=function(e,t,a){var n,r,s=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),s=Object(u.a)(r,2),i=s[0],d=s[1],j=Object(c.useRef)([]),b=Object(c.useCallback)(function(){var e=Object(l.a)(o.a.mark((function e(t){var a,c,r,s,i,l,u=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>1&&void 0!==u[1]?u[1]:"GET",c=u.length>2&&void 0!==u[2]?u[2]:null,r=u.length>3&&void 0!==u[3]?u[3]:{},n(!0),s=new AbortController,j.current.push(s),e.prev=6,e.next=9,fetch(t,{method:a,body:c,headers:r,signal:s.signal});case 9:return i=e.sent,e.next=12,i.json();case 12:if(l=e.sent,j.current=j.current.filter((function(e){return e!==s})),!l.error){e.next=16;break}throw new Error(l.error);case 16:return n(!1),e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(6),n(!1),d(e.t0.message),e.t0;case 25:case"end":return e.stop()}}),e,null,[[6,20]])})));return function(t){return e.apply(this,arguments)}}(),[]);return Object(c.useEffect)((function(){return function(){j.current.forEach((function(e){return e.abort()}))}}),[]),{error:i,isLoading:a,sendRequest:b,clearError:function(){d(null)}}}(),i=s.sendRequest,d=s.isLoading,j=s.error,b=s.clearError;return{getData:function(){var t=Object(l.a)(o.a.mark((function t(a){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i(a,"POST",JSON.stringify({city:e}),{"Content-Type":"application/json"});case 3:n=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:return t.abrupt("return",n);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),getWeatherDataByLocation:function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i("".concat("https://weatherapppushi.herokuapp.com/","api/latlong"),"POST",JSON.stringify({latitude:t,longitude:a}),{"Content-Type":"application/json"});case 3:r=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:return e.abrupt("return",r);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),isLoading:d,error:j,clearError:b}},L=a(109),T=a(112),P=a(110),A=a(82),R=(a(77),Object(L.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #ccccff",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})));function H(e){var t=e.error,a=e.clear,c=R();return Object(j.jsx)("div",{children:Object(j.jsx)(T.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:t,onClose:a,closeAfterTransition:!0,BackdropComponent:P.a,BackdropProps:{timeout:500},children:Object(j.jsx)(A.a,{in:t,children:Object(j.jsxs)("div",{className:c.paper,children:[Object(j.jsx)("h2",{id:"transition-modal-title",children:"An error just happened!"}),Object(j.jsxs)("div",{className:"modal__errorDescription",children:[Object(j.jsx)("img",{className:"modal__image",alt:"cloud-emoji",src:"https://www.vippng.com/png/detail/203-2038600_nube-clipart-png-sad-cloud-icon.png"}),Object(j.jsx)("p",{id:"transition-modal-description",children:t})]}),Object(j.jsx)("div",{className:"modal__button",children:Object(j.jsx)("button",{type:"button",onClick:a,children:"Close"})})]})})})})}a(78);var J=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],r=I(a),s=r.getData,i=r.getWeatherDataByLocation,d=r.isLoading,b=r.error,h=r.clearError,p=Object(c.useState)(null),O=Object(u.a)(p,2),x=O[0],m=O[1],_=Object(c.useState)(null),v=Object(u.a)(_,2),g=v[0],w=v[1],N=function(){var e=Object(c.useState)(),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(),s=Object(u.a)(r,2),i=s[0],o=s[1],l={enableHighAccuracy:!0,timeout:1e4,maximumAge:0};function d(e){var t=e.coords;n(t.latitude),o(t.longitude)}function j(e){console.warn("ERROR(".concat(e.code,"): ").concat(e.message))}return{latitude:a,longitude:i,getCoordinates:Object(c.useCallback)((function(){navigator.geolocation?navigator.permissions.query({name:"geolocation"}).then((function(e){"granted"===e.state?(console.log(e.state),navigator.geolocation.getCurrentPosition(d)):"prompt"===e.state?(console.log(e.state),navigator.geolocation.getCurrentPosition(d,j,l)):"denied"===e.state&&console.log(e.state),e.onChange=function(){console.log(e.state)}}),[]):console.log("not available")}))}}(),y=N.latitude,S=N.longitude,k=N.getCoordinates;Object(c.useEffect)((function(){k()}),[]),Object(c.useEffect)((function(){var e;y&&S&&function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,i(y,S);case 3:e=t.sent,m(e),a=e.clima.slice(1,6),w(a),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),[y,S]),Object(c.useEffect)((function(){var e;a&&function(){var t=Object(l.a)(o.a.mark((function t(){var a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s("".concat("https://weatherapppushi.herokuapp.com/","api/city"));case 3:e=t.sent,m(e),a=e.clima.slice(1,6),w(a),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}()()}),[a]);var C=function(){var e=Object(l.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("clicked"),e.prev=1,e.next=4,i(y,S);case 4:t=e.sent,m(t),a=t.clima.slice(1,6),w(a),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return console.log("https://weatherapppushi.herokuapp.com/"),x&&g?Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("section",{className:"app__aside",children:Object(j.jsx)(f,{weather:x.clima[0],setInput:n,city:a,getLocation:C})}),Object(j.jsxs)("section",{className:"app__Content",children:[Object(j.jsx)("div",{className:"app__loading",children:d&&Object(j.jsx)(E.a,{className:"app__loading_item"})}),!d&&b&&Object(j.jsx)(H,{error:b,clear:h}),Object(j.jsx)("div",{className:"app__content__component",children:!d&&Object(j.jsx)(B,{weather:g,weatherDetails:x.clima[0]})})]})]}):Object(j.jsxs)("div",{className:"App",children:[!d&&b&&Object(j.jsx)(H,{error:b,clear:h}),Object(j.jsx)("section",{className:"app__aside",children:Object(j.jsx)(f,{setInput:n,getLocation:C})}),Object(j.jsx)("section",{className:"app__Content",children:Object(j.jsx)(B,{className:"content__component"})})]})};s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(J,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.802ce4b6.chunk.js.map